<?xml version="1.0" encoding="UTF-8" ?>
<!--
Copyright (c) UChicago Argonne, LLC. All rights reserved.
See LICENSE file.
-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"                                
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://xmlns.jcp.org/jsf/core">   

    <!-- Must provide params "viewId", "valueModel", "selectionModel", "hideOptionalColumns", "hideSearchColumns", "scrollable".-->

    <ui:param name="defaultHeight"
              value="#{scrollable ? '75vh' : ''}" />
    
    <ui:param name="scrollHeight"
              value="#{scrollHeight != null ? scrollHeight : defaultHeight}" />
    
    <!--Reference from javascript-->
    <div id="itemMachineDesignListDataTableScrollHeight"
         style="display: none">#{scrollHeight}</div>
    
    <ui:param name="resizableColumns"
              value="#{resizableColumns != null ? resizableColumns : true}" />

    <ui:param name="liveResize"
              value="#{liveResize != null ? liveResize : true}" />

    <p:treeTable id='itemMachineDesignListDataTable#{viewId}'
                 widgetVar="itemMachineDesignListDataTable#{viewId}Widget"
                 rendered="#{rendered}"
                 scrollable="#{scrollable}"
                 resizableColumns="#{resizableColumns}"
                 liveResize="#{liveResize}"
                 sortBy="#{itemElementTreeListObject.sortOrder}"
                 scrollHeight="#{scrollHeight}"
                 styleClass="sticky-header-tree-table"
                 value="#{valueModel}"
                 selectionMode="single"
                 selection="#{selectionModel}"
                 var="itemElementTreeListObject"
                 nodeVar="machineTreeNode">
        
        <ui:insert name="treeTableEvents" />

        <ui:param name="hideOptionalColumns"
                  value="#{hideOptionalColumns}" /> 
        <ui:param name="hideSearchColumns"
                  value="#{hideSearchColumns}" /> 
        <ui:param name="itemElementListObject"
                  value="#{itemElementTreeListObject}" /> 

        <ui:insert name="itemDomainMachineDesignListObject">
            <ui:include src="../itemDomainMachineDesignListObject.xhtml"/>
        </ui:insert>


    </p:treeTable>


</ui:composition>
